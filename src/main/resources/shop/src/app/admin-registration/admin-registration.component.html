
<div class="container-fluid">
  <app-title [noMargin]="true" [title]="language.registerUser"
             [subtitle]="language.registerUserSubtitle"></app-title>
  <mat-tab-group mat-align-tabs="center">
    <mat-tab label="{{language.admin}}">
      <form class="container" role="form" (submit)="register(true)" [formGroup]="registerAdminForm">
        <div class="form-group">
          <mat-form-field class="form-element">
            <input matInput placeholder="{{language.username}}" formControlName="username">
            <mat-error
              *ngIf="registerAdminForm.get('username')?.touched && registerAdminForm.get('username')?.hasError('required')">
              {{language.required}}
            </mat-error>
            <mat-error
              *ngIf="registerAdminForm.get('username')?.touched && registerAdminForm.get('username')?.hasError('email')">
              {{language.errorValidEmail}}
            </mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-form-field class="form-element">
            <input type="password" matInput placeholder="{{language.password}}" formControlName="password">
            <mat-error
              *ngIf="registerAdminForm.get('password')?.touched && registerAdminForm.get('password')?.hasError('required')">
              {{language.required}}
            </mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-form-field class="form-element">
            <input type="password" matInput placeholder="{{language.passwordAgain}}" formControlName="repassword">
            <mat-error
              *ngIf="registerAdminForm.get('repassword')?.touched && registerAdminForm.get('repassword')?.hasError('required')">
              {{language.required}}
            </mat-error>
            <mat-error
              *ngIf="registerAdminForm.get('repassword')?.touched && registerAdminForm.get('repassword')?.errors?.confirmedValidator">
              {{language.errorPasswordMatch}}
            </mat-error>
          </mat-form-field>
        </div>
        <button mat-button color="primary" type="submit" class="form-control" [disabled]="registerAdminForm.invalid">
          {{language.register}}
        </button>
        <div class="form-group">
          <mat-error class="formError"
                     *ngIf="registerAdminForm.get('username')?.touched && registerAdminForm.get('password')?.touched && registerAdminForm.get('repassword')?.touched && registerAdminForm.invalid">
            {{language.errorValidData}}
          </mat-error>
        </div>
      </form>
    </mat-tab>

    <mat-tab label="{{language.user}}">
      <form class="container" role="form" (submit)="register(false)" [formGroup]="registerUserForm">
        <div class="form-group">
          <mat-form-field class="form-element">
            <input matInput placeholder="{{language.username}}" formControlName="username">
            <mat-error
              *ngIf="registerUserForm.get('username')?.touched && registerUserForm.get('username')?.hasError('required')">
              {{language.required}}
            </mat-error>
            <mat-error
              *ngIf="registerUserForm.get('username')?.touched && registerUserForm.get('username')?.hasError('email')">
              {{language.errorValidEmail}}
            </mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-form-field class="form-element">
            <input type="password" matInput placeholder="{{language.password}}" formControlName="password">
            <mat-error
              *ngIf="registerUserForm.get('password')?.touched && registerUserForm.get('password')?.hasError('required')">
              {{language.required}}
            </mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-form-field class="form-element">
            <input type="password" matInput placeholder="{{language.passwordAgain}}" formControlName="repassword">
            <mat-error
              *ngIf="registerUserForm.get('repassword')?.touched && registerUserForm.get('repassword')?.hasError('required')">
              {{language.required}}
            </mat-error>
            <mat-error
              *ngIf="registerUserForm.get('repassword')?.touched && registerUserForm.get('repassword')?.errors?.confirmedValidator">
              {{language.errorPasswordMatch}}
            </mat-error>
          </mat-form-field>
        </div>

        <div class="form-group">
          <mat-form-field class="form-element">
            <input matInput placeholder="{{language.code}}" formControlName="code">
            <mat-error
              *ngIf="registerUserForm.get('code')?.touched && registerUserForm.get('code')?.hasError('required')">
              {{language.required}}
            </mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-form-field class="form-element">
            <input matInput placeholder="{{language.firma}}" formControlName="firma">
            <mat-error
              *ngIf="registerUserForm.get('firma')?.touched && registerUserForm.get('firma')?.hasError('required')">
              {{language.required}}
            </mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-form-field class="form-element">
            <input matInput placeholder="{{language.grad}}" formControlName="grad">
            <mat-error
              *ngIf="registerUserForm.get('grad')?.touched && registerUserForm.get('grad')?.hasError('required')">
              {{language.required}}
            </mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-form-field class="form-element">
            <input matInput placeholder="{{language.mb}}" formControlName="mb">
            <mat-error
              *ngIf="registerUserForm.get('mb')?.touched && registerUserForm.get('mb')?.hasError('required')">
              {{language.required}}
            </mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-form-field class="form-element">
            <input matInput placeholder="{{language.pib}}" formControlName="pib">
            <mat-error
              *ngIf="registerUserForm.get('pib')?.touched && registerUserForm.get('pib')?.hasError('required')">
              {{language.required}}
            </mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-form-field class="form-element">
            <input matInput type="number" min="0" max="100" placeholder="{{language.rabat}}" formControlName="rabat">
            <mat-error
              *ngIf="registerUserForm.get('rabat')?.touched && registerUserForm.get('rabat')?.hasError('required')">
              {{language.required}}
            </mat-error>
            <mat-error
              *ngIf="registerUserForm.get('rabat')?.touched && registerUserForm.get('rabat')?.hasError('min')">
              {{language.errorMin}}
            </mat-error>
            <mat-error
              *ngIf="registerUserForm.get('rabat')?.touched && registerUserForm.get('rabat')?.hasError('max')">
              {{language.errorMax}}
            </mat-error>
          </mat-form-field>
        </div>
        <div class="form-group">
          <mat-form-field class="form-element">
            <input matInput placeholder="{{language.ulica}}" formControlName="ulica">
            <mat-error
              *ngIf="registerUserForm.get('ulica')?.touched && registerUserForm.get('ulica')?.hasError('required')">
              {{language.required}}
            </mat-error>
          </mat-form-field>
        </div>
        <button mat-button color="primary" type="submit" class="form-control" [disabled]="registerUserForm.invalid">
          {{language.register}}
        </button>
        <div class="form-group">
          <mat-error class="formError"
                     *ngIf="registerUserForm.get('username')?.touched && registerUserForm.get('password')?.touched && registerUserForm.get('repassword')?.touched && registerAdminForm.invalid">
            {{language.errorValidData}}
          </mat-error>
        </div>
      </form>
    </mat-tab>
  </mat-tab-group>
</div>
